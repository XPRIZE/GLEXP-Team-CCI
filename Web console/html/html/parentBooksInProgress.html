<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Parent Books In Progress</title>
  <link rel="styleSheet" href="../css/webixPersonalModifications.css" />
  <style>
    #uploadParent, #reuploadParent {
      height: 200px;
      width: 200px;
      display: block;
      margin: auto;
      border: 2px dashed grey;
    }
  </style>
  <link rel="stylesheet" href="../includes/webix/webix.css"/>
  <script src="../includes/jquery.js"></script>
  <script src="../includes/webix/webix_debug.js"></script>
  <script src="../includes/dropzone.js"></script>
  <link rel="stylesheet" href="../includes/dropzone.css"></link>
</head>
<body>
<script>
  window.setTimeout(function () {

    console.log(pbArr);
    for (var p = 0; p < pbArr.length; p++) {
      var parent = pbArr[p];
    }
    pbObj = {};
    pbObj["sw reading"] = {};
    pbObj["sw writing"] = {};
    pbObj["sw math"] = {};
    pbObj["en reading"] = {};

    pbObj["sw reading"]["level 1"] = {};
    pbObj["sw reading"]["level 2"] = {};
    pbObj["sw reading"]["level 3"] = {};
    pbObj["sw reading"]["level 4"] = {};

    pbObj["sw writing"]["level 1"] = {};
    pbObj["sw writing"]["level 2"] = {};
    pbObj["sw writing"]["level 3"] = {};
    pbObj["sw writing"]["level 4"] = {};

    pbObj["sw math"]["level 1"] = {};
    pbObj["sw math"]["level 2"] = {};
    pbObj["sw math"]["level 3"] = {};
    pbObj["sw math"]["level 4"] = {};

    var header = {
      view: "toolbar",
      height: 55,
      autoWidth: true,
      cols: [
        {
          view: "button", value: "Home", width: 80, on: {
          onItemClick: function () {
            window.location.href = "../index.php";
          }
        }
        },
        {
          view: "button", value: "Utilities", width: 80, on: {
          onItemClick: function () {
            window.location.href = "../utilities/index.php";
          }
        }
        },
        {
          view: "label",
          template: "<p class='toolbarCenterLabel'>Parent Books in progress</p>"
        },
        {type: "spacer", width: 80},
        {
          view: "button", value: "Logout", width: 80, on: {
          onItemClick: function () {
            window.location.href = "../logout.php";
          }
        }
        }
      ]
    };

    var whichParentBook = {
      autoWidth: true,
      width: "100%",
      height: 400,
      body: {
        type: "space",
        rows: [
          {
            height: 40,
            autoWidth: true,
            view: "label",
            template: "<b><p class='folderHeader'>Subject</p></b>",
          },
          {
            height: 80,
            cols: [
              {},
              {
                id: "sw reading", view: "toggle", label: "Sw Reading", on: {
                onItemClick: function () {
                  window.selectedSubject = "sw reading";
                  if ($$(this).getValue() == 0) {
                    window.selectedSubject = false;
                  }
                  toggleDeselectedSubject();
                }
              }
              },
              {},
              {
                id: "sw writing", view: "toggle", label: "Sw Writing", on: {
                onItemClick: function () {
                  window.selectedSubject = "sw writing";
                  if ($$(this).getValue() == 0) {
                    window.selectedSubject = false;
                  }
                  toggleDeselectedSubject();
                }
              }
              },
              {},
              {
                id: "sw math", view: "toggle", label: "Sw Math", on: {
                onItemClick: function () {
                  window.selectedSubject = "sw math";
                  if ($$(this).getValue() == 0) {
                    window.selectedSubject = false;
                  }
                  toggleDeselectedSubject();
                }
              }
              },
              {},
              {
                id: "en reading", view: "toggle", label: "En Reading", on: {
                onItemClick: function () {
                  window.selectedSubject = "en reading";
                  if ($$(this).getValue() == 0) {
                    window.selectedSubject = false;
                  }
                  toggleDeselectedSubject();
                }
              }
              },
              {},
            ]
          },
          {},
          {
            height: 80,
            cols: [
              {},
              {
                id: "level 1", disabled:true, view: "toggle", label: "Level 1", on: {
                onItemClick: function () {
                }
              }
              },
              {},
              {
                id: "level 2", disabled:true, view: "toggle", label: "Level 2", on: {
                onItemClick: function () {
                }
              }
              },
              {},
              {
                id: "level 3", disabled:true, view: "toggle", label: "Level 3", on: {
                onItemClick: function () {
                }
              }
              },
              {},
              {
                id: "level 4", disabled:true, view: "toggle", label: "Level 4", on: {
                onItemClick: function () {
                }
              }
              },
              {},
            ]
          },
          {},
        ]
      }
    };
    window.subjectArr = ["sw reading", "sw writing", "sw math", "en reading"];
    function toggleDeselectedSubject() {
      for (var s = 0; s < window.subjectArr.length; s++) {
        var subject = window.subjectArr[s];
        if ($$(subject).getValue() == 1 && subject !== window.selectedSubject) {
          $$(subject).toggle();
        }
      }
      if (!window.selectedSubject) {
        $$("level 1").disable();
        $$("level 2").disable();
        $$("level 3").disable();
        $$("level 4").disable();
      } else {
        enableLevelIfWeHaveIt()
      }
    }

    function enableLevelIfWeHaveIt() {
      $$("level 1").enable();
      $$("level 2").enable();
      $$("level 3").enable();
      $$("level 4").enable();
    }





    webix.ui({
      view: "scrollview",
      width: "100%",
      body: {
        type: "space",
        rows: [
          header,
          whichParentBook,
        ]
      }
    });
  }, 100);
</script>
</body>
</html>

<!-- pbArr attached here, from the php index -->




















